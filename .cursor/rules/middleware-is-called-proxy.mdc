---
name: middleware-is-called-proxy
description: Next.js 16 proxy file convention
---

# Overview

In Next.js 16, the `middleware.ts` file convention was renamed to `proxy.ts`.

The proxy file is located at `src/proxy.ts` and uses `export default clerkMiddleware(...)`.

## No Prisma in Proxy

Proxy/middleware runs on Edge runtime, which doesn't support Prisma without Accelerate/Driver Adapters. User sync is handled via `getOrCreateDbUser()` in `src/lib/prisma.ts`.

Reference: https://nextjs.org/docs/messages/middleware-to-proxy
